NodeCGで動作する配信画面と管理ツールです。

# 導入方法
## 初期条件
* Windows 11（10以降はおそらくOK）
* Powershell 7以降
* Node.jsインストール済み

## NodeCGの導入・プロジェクト構築
[https://qiita.com/nanana08/items/73e3dcb33676c93eddac]

このリポジトリを *クローンせずに* 以下を実行

```powershell
# cliをインストール
npm install --global nodecg-cli@latest

# プロジェクトを作成
nodecg setup

# bundles配下にこのリポジトリをクローン
nodecg install makochan1209/2024-rikoten-conf-layouts
```

## トラブルシューティング
### Windows Powershell (Ver. 5以下)でnodecg setupに失敗する
```nodecg setup```を行おうとすると、「このシステムではスクリプトの実行が無効になっているため…」と出る。

* Powershell (Ver. 7以降)をインストールする。
    * ターミナルを開いて一番上に出てくるリンクからPowershellをインストール。
* ターミナルを再度開いて、既定のターミナルを```Windows Powershell```から```Powershell```に変更。
* VSCodeなどでターミナルを動かしている場合は一度元のターミナルを閉じて新しくターミナルを開き、```Powershell```に切り替える。

# 起動
```powershell
npm start
```

```localhost:9090```にアクセス。

# 会場での手順
## OBSの設定
* 発表時間と準備時間それぞれのシーンを用意する。
    * ビデオなどの配置も済ませておく。
* スタジオモードに切り替えて、切り替え予定のシーンの映像も見られるようにしておく。

## 当日の手順
### 開始時
* 発表時間側の表示を最初に発表する人に設定して「更新」を押す。
* 待機画面を表示しておく場合は待機画面を用意してあらかじめ表示しておく。
* YouTubeのストリームキーを入力して、配信の準備が完全にでき次第、OBSで配信開始を押す。

### 発表の合間の準備時間
* 発表時（切り替え後）のシーンを指定する。
* 発表開始前に切り替え後の発表画面の状態を確認。
    * 表示情報は間違っていないか。
    * カメラとスライドは映っているか。
        * クリッピング範囲の調整
    * リモート発表ならカメラのないシーンにするなど発表形態にも注意。
* シーンの切り替えを行う。

### 発表中
* 切り替え後の画面はおそらく待機画面に設定されているはずだが、確認する。
* 待機画面を次の発表者に設定しておく。
* 待機画面が正しい情報を表示しているか確認する。
* 発表が終わったらシーンを切り替える。

### 情報修正・変更
* JSON側で情報を変更する。
* データの読み込み画面で「更新」を押す。